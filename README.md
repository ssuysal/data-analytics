# Project Overview: Elections and Speeches

This repository contains code for a data analytics project focused on analyzing parliamentary speeches and electoral performance in Canada between 1980 and 2020.

## Project Objectives

1. Determine the topics PMs were talking about between 1980 and 2020
2. Analyze what the prime minister and opposition leaders were discussing
3. Determine if there is a correlation between electoral performance and the most frequent topics discussed by parliamentarians

## Repository Structure

- **Code/**: Contains all Python, R, and Stata scripts
- **Essay/**: Contains the essay (in PDF format) for this project

## Workflow

!workflow

1. **Data Collection**: Scrape MP information from Parliament website
2. **Data Processing**: Clean and combine MP information
3. **Speech Processing**: Extract and process speech content
4. **Topic Modeling**: Apply NLP techniques to identify speech topics
5. **Correlation Analysis**: Analyze relationship between topics and electoral performance

## Key Scripts

- **0_Download_Files.py**: Downloads MP information from parliament website
- **1_Combine_MPInformation.py**: Combines MP data and electoral history
- **2_Prepare_Speech.py**: Processes speech text (tokenization, stemming, etc.)
- **3_Model_Speech.py**: Applies topic modeling using K-means clustering
- **4_Determine_Correlation.py**: Analyzes correlation between topics and electoral success
- **Merge_Data.do** (Stata): Merges datasets and performs additional analysis
- **analysis.R**: Runs fixed effects regression models

## Requirements

- Python 3.11.3
- R 4.3.0
- StataBE 17
- Python dependencies listed in requirements.txt

## Installation

```bash
pip install -r Code/requirements.txt
```

## Usage

Run the scripts in sequence as outlined in the workflow. Each script requires specific input files generated by previous steps.

For Python scripts:
```bash
python Code/[script_name].py
```

For R script:
```bash
Rscript Code/analysis.R
```

For Stata, run the Merge_Data.do file in Stata.

## Notes

- Set the correct working directories as specified in each script
- Some scripts allow sampling to reduce execution time (e.g., `sampling=0.1`)
- Running the full pipeline requires significant computational resources
- Data spans from 1980 to 2020, covering multiple governments and parliaments

This project combines web scraping, natural language processing, and statistical analysis to explore the relationship between parliamentary discourse and electoral outcomes in Canada.